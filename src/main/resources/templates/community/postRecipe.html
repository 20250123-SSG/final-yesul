<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Community - Recipe Posts</title>
    <link rel="stylesheet" th:href="@{/assets/css/plugins/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
</head>

<body>
<div th:replace="fragments/user/header :: header"></div>

<div class="container mt-4">

    <!-- 게시판 탭 -->
    <div class="text-center mb-4">
        <a th:href="@{/community/recipe}" class="mx-3">레시피 게시판</a>
        <span>|</span>
        <a th:href="@{/community/info}" class="mx-3">정보 게시판</a>
        <span>|</span>
        <a th:href="@{/community/free}" class="mx-3">자유 게시판</a>
    </div>

    <!-- ✅ 등록 버튼 -->
    <div class="text-end mb-3">
        <a th:href="@{/community/create}" class="btn btn-primary btn-sm">게시글 등록</a>
    </div>

    <!-- 게시글 목록 -->
    <div class="row">
        <div class="col-md-4 mb-4" th:each="post : ${postList}">
            <div class="card h-100">
                <!-- 이미지 -->
                <a th:href="@{/community/recipe/{id}(id=${post.id})}">
                    <img class="card-img-top"
                         th:src="${post.thumbnail != null and !post.thumbnail.isEmpty() ? post.thumbnail : '/assets/img/default.jpg'}"
                         alt="썸네일 이미지"
                         style="height: 200px; object-fit: cover;">
                </a>

                <div class="card-body">
                    <h5 class="card-title" th:text="${post.title}">제목</h5>
                    <p class="card-text text-muted">
                        작성일: <span th:text="${post.createdAt}">2025-06-30</span><br>
                        좋아요: <span th:text="${post.likeCount}">0</span>
                    </p>
                    <a th:href="@{/community/recipe/{id}(id=${post.id})}" class="btn btn-sm btn-outline-secondary">자세히 보기</a>
                </div>
            </div>
        </div>
    </div>

</div>

<div th:replace="fragments/user/footer :: footer"></div>

</body>
</html>